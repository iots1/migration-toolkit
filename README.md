# **üè• HIS Database Migration Toolkit (Center)**

**‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏•‡∏≤‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠ (Centralized Dashboard)** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡∏¢‡πâ‡∏≤‡∏¢‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏• (HIS)

‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡∏Å‡∏≤‡∏£ **‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (Profiling)**, **‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (Mockup)**, ‡∏à‡∏ô‡∏ñ‡∏∂‡∏á **‡∏™‡∏£‡πâ‡∏≤‡∏á Config (Schema Mapping)** ‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏µ‡∏¢‡∏ß

## **üìÇ ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå (Project Structure)**

my-migration-tool/  
‚îú‚îÄ‚îÄ app.py \<-- üåü Main Application (Streamlit Dashboard)  
‚îú‚îÄ‚îÄ requirements.txt \<-- Python Dependencies  
‚îú‚îÄ‚îÄ README.md \<-- Documentation  
‚îÇ  
‚îú‚îÄ‚îÄ analysis_report/ \<-- ‚öôÔ∏è Engine ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå DB ‡∏à‡∏£‡∏¥‡∏á  
‚îÇ ‚îú‚îÄ‚îÄ config.json \# ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ DB  
‚îÇ ‚îú‚îÄ‚îÄ unified_db_analyzer.sh \# Script ‡∏´‡∏•‡∏±‡∏Å‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå  
‚îÇ ‚îú‚îÄ‚îÄ csv_to_html.py \# Script ‡∏™‡∏£‡πâ‡∏≤‡∏á Report HTML  
‚îÇ ‚îî‚îÄ‚îÄ migration_report/ \# ‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÄ‡∏Å‡πá‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå (CSV/HTML/SQL)  
‚îÇ  
‚îî‚îÄ‚îÄ mini_his/ \<-- üé≤ Engine ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≥‡∏•‡∏≠‡∏á  
 ‚îú‚îÄ‚îÄ gen_mini_his.py \# Python script generate data  
 ‚îî‚îÄ‚îÄ full_his_mockup.sql \# SQL ‡∏ï‡∏±‡πâ‡∏á‡∏ï‡πâ‡∏ô

## **üõ† Tech Stack & Requirements**

### **Environment**

- **OS:** Linux, macOS, Windows (via WSL2)
- **Shell:** Bash 4.0+ (‡∏°‡∏µ‡∏£‡∏∞‡∏ö‡∏ö Auto-switch ‡πÉ‡∏´‡πâ‡∏ö‡∏ô macOS)

### **Core Technologies**

- **Frontend / UI:** [Streamlit](https://streamlit.io/) (Python)
- **Data Processing:** Pandas
- **Scripting:** Bash, Python 3
- **Database Clients:** mysql-client, postgresql-client, sqlcmd (MSSQL)
- **JSON Processor:** jq

## **üöÄ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (Installation & Usage)**

### **1Ô∏è‚É£ ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Dependencies**

‡πÄ‡∏õ‡∏¥‡∏î Terminal ‡∏ó‡∏µ‡πà Root Folder ‡∏Ç‡∏≠‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á:

pip install \-r requirements.txt

### **2Ô∏è‚É£ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (Start Dashboard)**

‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤ Dashboard:

python3 -m streamlit run app.py --server.runOnSave true

_‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÄ‡∏õ‡∏¥‡∏î Browser ‡πÑ‡∏õ‡∏ó‡∏µ‡πà http://localhost:8501 ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥_

## **üîÑ Workflow ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô**

### **Step 1: ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (Analyze Database)**

1. ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå analysis_report/config.json ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏∞‡∏ö‡∏∏ Database ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢
2. ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå analysis_report/ ‡πÅ‡∏•‡πâ‡∏ß‡∏£‡∏±‡∏ô Script ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå:  
   cd analysis_report  
   ./unified_db_analyzer.sh

3. ‡∏£‡∏≠‡∏à‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á Report ‡πÑ‡∏ß‡πâ‡πÉ‡∏ô migration_report/YYYYMMDD_HHMM/

### **Step 2: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞ Map Schema**

1. ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤ **Streamlit Dashboard** (app.py)
2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏°‡∏ô‡∏π **"üìä Schema Mapper"**
3. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Report ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î ‡πÅ‡∏•‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Table ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
4. ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÅ‡∏•‡∏∞‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì **Map Field** ‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **Transformer**

### **Step 3: ‡∏™‡∏£‡πâ‡∏≤‡∏á Config (Generate Code)**

1. ‡πÄ‡∏°‡∏∑‡πà‡∏≠ Map ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° **"‚ö° Generate TypeScript Config"**
2. Copy ‡πÇ‡∏Ñ‡πâ‡∏î‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå Migration ‡∏´‡∏•‡∏±‡∏Å (Registry Pattern)

## **üî• Killer Features**

### **üöÄ Interactive DDL Explorer**

- ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà **‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏≤‡∏£‡∏≤‡∏á** ‡πÉ‡∏ô HTML Report ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π **SQL Create Table** ‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
- ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà **Foreign Key (FK)** ‡πÄ‡∏û‡∏∑‡πà‡∏≠ Jump ‡πÑ‡∏õ‡∏î‡∏π‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á

### **üß† Deep Analysis Mode**

- **Data Profiling:** ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô (Row Count, Nulls, Max Length, Distinct)
- **Smart Skip:** ‡∏Ç‡πâ‡∏≤‡∏°‡∏Å‡∏≤‡∏£‡∏´‡∏≤ Top 5 ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå Date/Time ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î
- **Data Composition:** ‡πÅ‡∏™‡∏î‡∏á‡∏Å‡∏£‡∏≤‡∏ü‡πÅ‡∏ó‡πà‡∏á‡∏ã‡πâ‡∏≠‡∏ô (Stacked Bar) ‡πÅ‡∏¢‡∏Å‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:
  - üü© **Valid:** ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏õ‡∏Å‡∏ï‡∏¥
  - ‚¨õ **Null:** ‡∏Ñ‡πà‡∏≤‡∏ß‡πà‡∏≤‡∏á‡∏ó‡∏≤‡∏á Database
  - üü• **Empty:** ‡∏™‡∏ï‡∏£‡∏¥‡∏á‡∏ß‡πà‡∏≤‡∏á "" (‡∏à‡∏∏‡∏î‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á Migration)
  - üü® **Zero:** ‡∏Ñ‡πà‡∏≤‡πÄ‡∏•‡∏Ç 0

### **üõ°Ô∏è Auto-Environment Guard**

- Script ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏™‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÉ‡∏ä‡πâ **Bash ‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡πÉ‡∏´‡∏°‡πà** ‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ Performance ‡∏ö‡∏ô macOS

## **‚öôÔ∏è ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Deep Analysis**

‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå analysis_report/config.json:

```json
"sampling": {
 "default_limit": 10,
 "deep_analysis": true, // true \= ‡πÄ‡∏õ‡∏¥‡∏î‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
 "exceptions": \[...\]
}
```

| Feature          | Basic Mode (false)             | Deep Mode (true)                                                       |
| :--------------- | :----------------------------- | :--------------------------------------------------------------------- |
| **Performance**  | ‚ö° ‡πÄ‡∏£‡πá‡∏ß‡∏°‡∏≤‡∏Å                     | üê¢ ‡∏ä‡πâ‡∏≤‡∏Å‡∏ß‡πà‡∏≤ (‡∏ï‡πâ‡∏≠‡∏á Scan ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•)                                          |
| **Data Insight** | Row Count, Nulls, Distinct     | \+ **Min/Max Values** \+ **Top 5 Freq Values** \+ **Data Composition** |
| **Use Case**     | ‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°, ‡∏ï‡∏≤‡∏£‡∏≤‡∏á Log ‡πÉ‡∏´‡∏ç‡πà‡πÜ | ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥ Data Mapping, ‡∏´‡∏≤‡∏Ñ‡πà‡∏≤‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥                                       |
